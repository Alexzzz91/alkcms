<!DOCTYPE html>
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='description', content='A front-end template that helps you build fast, modern mobile web apps.')
    meta(name='viewport', content='width=device-width, initial-scale=1.0, minimum-scale=1.0')
    block title
    // Add to homescreen for Chrome on Android
    meta(name='mobile-web-app-capable', content='yes')
    link(rel='icon', sizes='192x192', href='images/android-desktop.png')
    // Add to homescreen for Safari on iOS
    meta(name='apple-mobile-web-app-capable', content='yes')
    meta(name='apple-mobile-web-app-status-bar-style', content='black')
    meta(name='apple-mobile-web-app-title', content='Material Design Lite')
    link(rel='apple-touch-icon-precomposed', href='images/ios-desktop.png')
    // Tile icon for Win8 (144x144 + tile color)
    meta(name='msapplication-TileImage', content='images/touch/ms-touch-icon-144x144-precomposed.png')
    meta(name='msapplication-TileColor', content='#3372DF')
    link(rel='shortcut icon', href='/images/favicon.png')
    // SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones
    //
      <link rel="canonical" href="http://www.example.com/">
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&lang=en')
    link(rel='stylesheet', href='https://fonts.googleapis.com/icon?family=Material+Icons')
    link(rel='stylesheet', href='https://code.getmdl.io/1.3.0/material.cyan-light_blue.min.css')
    link(rel='stylesheet', href='/css/styles.css')
    link(rel='stylesheet' href="/css/app.css")
    block css
    script(src="/vendor/bower_components/jquery/dist/jquery.min.js")
    //- script(src="/vendor/bower_components/bootstrap/dist/js/bootstrap.js")
    //- script(src="/vendor/bower_components/jquery-ui/jquery-ui.min.js")
    script(src='/js/material.min.js')
    script(src='/js/app.js')
    style.
      #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
      }
  body
    .demo-layout.mdl-layout.mdl-js-layout.mdl-layout--fixed-drawer.mdl-layout--fixed-header
      header.demo-header.mdl-layout__header.mdl-color--grey-100.mdl-color-text--grey-600(class=user == null ? "full-width" : "")
        .mdl-layout__header-row
          block headerTitle
          .mdl-layout-spacer
          .mdl-textfield.mdl-js-textfield.mdl-textfield--expandable
            label.mdl-button.mdl-js-button.mdl-button--icon(for='search')
              i.material-icons search
            .mdl-textfield__expandable-holder
              input#search.mdl-textfield__input(type='text')
              label.mdl-textfield__label(for='search') Enter your query...
          button#hdrbtn.mdl-button.mdl-js-button.mdl-js-ripple-effect.mdl-button--icon
            i.material-icons more_vert
          ul.mdl-menu.mdl-js-menu.mdl-js-ripple-effect.mdl-menu--bottom-right(for='hdrbtn')
            li.mdl-menu__item About
            li.mdl-menu__item Contact
            li.mdl-menu__item Legal information
        if user
          #add.mdl-button--colored.mdl-shadow--4dp.mdl-color--accent.fab.logout
            i.material-icons.fab-icon exit_to_app
            .materialContainer
              p Вы точно хотите выйти?
              a.mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent(href='', onclick="jQuery('<form method=POST action=/logout>').appendTo('body').submit();return false") ДА
              button#cancel.mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--colored Отмена
        else
          #overlay
          #add.mdl-button--colored.mdl-shadow--4dp.mdl-color--accent.fab
            i.material-icons.fab-icon add
            .materialContainer
              .box
                form.form-horizontal.login-form(name='login-form')
                  .title Авторизация
                  .input
                    label(for='name') Логин пользователя
                    input#name(type='text', name='username')
                    span.spin
                  .input
                    label(for='pass') Пароль
                    input#pass(type='password', name='password')
                    span.spin
                  .button.login
                    button#login-submit(type='submit', data-loading-text='Отправляю...')
                      span Войти
                      i.fa.fa-check
                  span.help-block.pass-forgot.error
                  a.pass-forgot(href="") Забыли пароль?
              .overbox
                .material-button.alt-2
                  span.shape
                form.form-horizontal.register-form(name='register-form')
                  .title Регистрация
                  .input
                    label(for='regname') Логин
                    input#regname(type='text', name='regname')
                    span.spin
                  .input
                    label(for='regpass') Пароль 
                    input#regpass(type='password', name='regpass')
                    span.spin
                  .input
                    label(for='reregpass') Повторить пароль
                    input#reregpass(type='password', name='reregpass')
                    span.spin
                  .button
                    button#register-submit(type='submit', data-loading-text='Отправляю...')
                      span Далее
                      i.fa.fa-check
                  span.help-block.pass-forgot.error
          script(src='/js/login-form.js')
      if user
        .demo-drawer.mdl-layout__drawer.mdl-color--blue-grey-900.mdl-color-text--blue-grey-50
          header.demo-drawer-header
              img.demo-avatar(src='/images/user.jpg')
              .demo-avatar-dropdown
                span Привет #{user.username}! hello@example.com
                .mdl-layout-spacer
                button#accbtn.mdl-button.mdl-js-button.mdl-js-ripple-effect.mdl-button--icon
                  i.material-icons(role='presentation') arrow_drop_down
                  span.visuallyhidden Accounts
                ul.mdl-menu.mdl-menu--bottom-right.mdl-js-menu.mdl-js-ripple-effect(for='accbtn')
                  li.mdl-menu__item hello@example.com
                  li.mdl-menu__item info@example.com
                  li.mdl-menu__item
                    i.material-icons add
                    | Add another account...
            include ../partials/topNavigation
      main.mdl-layout__content.mdl-color--grey-100(class=user == null ? "full-width" : "")
        .mdl-grid.demo-content
          block content
          block features        }
